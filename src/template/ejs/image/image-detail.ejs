<!DOCTYPE html>
<html lang="ko">
<head>
    <% locals.title = 'Image ' + locals.image.id %>
    <% locals.ogImage = locals.image.thumbUrl %>
    <% locals.ogTitle = locals.image.owner.name %>
    <% locals.ogDesc = locals.image.comment %>
    <%- include('../_common/head') %>
</head>
<body>
    <% locals.hideHeader = true %>
    <%- include('../_common/header') %>

    <div class="max-w-full text-center">
        <div class="inline-block relative image-card">
            <img id="image" class="max-w-full cursor-pointer"
                 src="<%- locals.image.thumbUrl %>"
                 data-vers="<%- locals.image.vers ? locals.image.vers.join(',') : null %>">
        </div>
    </div>

    <div class="mt-xl wrapper">
        <% if (locals.image.comment) { %>
            <p class="whitespace-pre-line">
                <%= locals.image.comment %>
            </p>
        <% } %>
        <p class="text-xl link-no-deco">
            <a href='/user/<%- encodeURIComponent(locals.image.owner.home) %>'><%= locals.image.owner.name %></a>
        </p>
        <p class="mt-xl">
            <%- locals.image.cdateStr.slice(0, 16) %>
        </p>

        <% if (locals.image.updatable) { %>
            <div class="mt-xl space-x-3">
                <button id="btn-update" class="btn-hover-green text-sm">수정</button>
                <button id="btn-del" class="btn-hover-red text-sm">삭제</button>
            </div>
        <% } %>
    </div>

    <%- include('../_common/footer') %>
    <script type="application/json" id="imageJson">
      <%= JSON.stringify(locals.image) %>
    </script>
    <script>
        // $(function () {
        //     cimage.initView(getObjectById('imageJson'))
        // })
    </script>
</body>
</html>
